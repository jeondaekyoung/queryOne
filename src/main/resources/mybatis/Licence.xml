<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE mapper
			PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
			"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="mybatis.Licence">
	<select id="liceSelectList" parameterType="java.util.Map" resultType="LicenceKey">
		select * from LicenceKey order by liceNo DESC
	</select>
	
	<select id="liceSelectOne" parameterType="LicenceKey" resultType="LicenceKey">
		select * from LicenceKey where liceNo=#{liceNo}
	</select>
	
	<insert id="liceInsert" parameterType="LicenceKey">
		insert into LicenceKey values(default,#{product_id},#{product_name},#{writer},#{file_name},default,#{file_id});
	</insert>	
	
	<update id="liceUpdate" parameterType="LicenceKey">
		update LicenceKey set title=#{title},content=#{content},
		fileName=if(isnull(#{fileName}),fileName,#{fileName}),
		file_id= if(isnull(#{file_id}),file_id,#{file_id})
		 where liceNo=#{liceNo}
		
	</update>
	
	<delete id="liceDelete" parameterType="LicenceKey">
		delete from LicenceKey where liceNo=#{liceNo}
	</delete>
</mapper>